{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Rapport technique du projet","text":"<p>Bienvenue dans le rapport technique sur l'impl\u00e9mentation de notre maquette.</p> <p>Notre groupe est constitu\u00e9 de:</p> <ul> <li>Moha</li> <li>Chris</li> <li>Tim</li> <li>Astrid</li> </ul> <p>Ce document sert \u00e0 expliciter nos choix concernant les services \u00e0 impl\u00e9menter et les d\u00e9tails techniques de ces impl\u00e9mentations.</p> <p>Nous avons r\u00e9parti le travail dans le groupe de fa\u00e7on \u00e0 ce que chaque service ait un \u00e9tudiant responsable (bien qu'on s'est \u00e9videmment entraid\u00e9s). Le rapport comprend donc une partie par service, chacune d'entre elles comportant un cahier des charges, une proposition technique et les d\u00e9tails d'impl\u00e9mentation. Vous pouvez y acc\u00e9der en utilisant le menu.</p> <p>La documentation relative \u00e0 l'utilisation des services impl\u00e9ment\u00e9s est disponible sur la partie principale du site projetlinux.frolov.eu.</p> <p>La page suivante d\u00e9taillera nos choix de sujets.</p>"},{"location":"choix/","title":"Liste des sujets que nous avons choisi","text":""},{"location":"choix/#services-principaux","title":"Services principaux","text":"Service \u00c9tudiant responsable SSH Tim DHCP Chris DNS Astrid NTP Tim"},{"location":"choix/#services","title":"Services","text":"Service \u00c9tudiant responsable Web Tim Proxy Mohammed"},{"location":"choix/#collaboration-bonus","title":"Collaboration / bonus","text":"Service \u00c9tudiant Acc\u00e8s Internet Chris / coop\u00e9ration Pare-feu Mohamed"},{"location":"choix/#script-bash","title":"Script BASH","text":"Id\u00e9e Impl\u00e9mentation Loguer l'utilisation des ressources syst\u00e8me Tim"},{"location":"choix/#plan-de-la-maquette","title":"Plan de la maquette","text":""},{"location":"collaboration/","title":"Collaborations","text":"<ul> <li> Nous avons consomm\u00e9 le NAT d'un autre groupe</li> <li> Nous avons consomm\u00e9 le DHCP d'un autre groupe</li> <li> Nous avons visit\u00e9 le site web d'un autre groupe</li> <li> Un autre groupe a visit\u00e9 notre site web</li> <li> Un autre groupe aurait pu se servir de nos services DHCP, DNS, SSH et NTP</li> <li> Nous aurions pu \u00e9tablir une connexion SSH avec une machine d'un autre groupe.</li> </ul>"},{"location":"dhcp/","title":"DHCP","text":""},{"location":"dhcp/#cahier-des-charges","title":"Cahier des charges","text":"<p>Le service DHCP est l'un des services qui nous a \u00e9t\u00e9 propos\u00e9. Nous l'avons choisi pour sa simplicit\u00e9 d'utilisation ainsi que pour le gain de temps qu'il repr\u00e9sente.</p>"},{"location":"dhcp/#solution-proposee","title":"Solution propos\u00e9e","text":"<p>Nous avons choisi le service nomm\u00e9  'isc-dhcp-server', service qui est probablement le plus utilis\u00e9 sur les diff\u00e9rentes distributions linux. En effet, sa configuration rapide nous permet de gagner un maximum de temps si plusieurs machines clientes venaient \u00e0 faire partie du r\u00e9seau.</p>"},{"location":"dhcp/#implementation","title":"Impl\u00e9mentation","text":""},{"location":"dhcp/#installation","title":"Installation","text":"<p>Dans un premier temps nous installons les paquets 'isc-dhcp-server' et 'net-tools'. Net-tools est un paquet permettant d'effectuer des commandes en lien avec le r\u00e9seau dans lequel il est install\u00e9.</p> <pre><code>sudo apt install isc-dhcp-server\nsudo apt install net-tools\n</code></pre>"},{"location":"dhcp/#configuration-dhcp","title":"Configuration DHCP","text":"<p>Une fois le service install\u00e9, nous nous rendons dans le fichier de configuration qui nous permet d'apporter les modifications n\u00e9cessaires au fonctionnement de ce dernier.</p> <p><pre><code>sudo nano /etc/dhcp/dhcpd.conf\n</code></pre> Enfin nous ajoutons dans le fichier de configuration les param\u00e8tres suivants :</p> /etc/dhcp/dhcpd.conf<pre><code>default-lease-time 86400;\nmax-lease-time 172800;\nsubnet 192.169.0.0 netmask 255.255.0.0 {\n    range           192.169.0.10 192.169.0.254; # Permet de d\u00e9finir la plage d'adresse.\n    option routers      192.169.0.1; # Permet d'indiquer aux machines clientes l'IP du routeur.\n}\n\nlog-facility local0; # param\u00e8tre permettant une journalisation du service DHCP\n</code></pre> <p>Afin de v\u00e9rifier que les modifications ne contiennent pas d'erreur syntaxique nous effectuons un red\u00e9marrage du service. Si ce dernier red\u00e9marre normalement cela signifie qu'il n'y pas de probl\u00e8me li\u00e9 \u00e0 l'incompr\u00e9hension de la configuration par le serveur.</p> <pre><code>service isc-dhcp-server restart\n</code></pre> <p>En plus de la plage d'adresse IP que nous avons d\u00e9fini plus haut, ici nous souhaitons mettre en place une adresse IP dite statique, qui permettra \u00e0 la Raspberry (Rpi) d'avoir une adresse IP fixe.</p> /etc/dhcp/dhcpd.conf<pre><code>host host_name{\n    hardware ethernet b8:27:eb:f6:17:5e; # Adresse MAC du Rpi\n    fixed-address 192.169.0.2; # Adresse IP fixe du Rpi\n}\n</code></pre> <p>Une fois de plus nous effectuons un red\u00e9marrage afin de v\u00e9rifier que le fichier ne contient pas d'erreur syntaxique.</p>"},{"location":"dhcp/#configuration-de-linterface-dhcp","title":"Configuration de l'interface DHCP","text":"<p>Dans le but de pouvoir attribuer des adresses IP aux machines clientes, le serveur doit conna\u00eetre l'interface sur laquelle il doit agir. De ce fait, nous nous rendons dans le fichier /etc/default/isc-dhcp-server</p> /etc/default/isc-dhcp-server<pre><code>DHCPDv4_CONF=etc/dhcp/dhcpd.conf\nINTERFACESv4 = \"enp0s3\"\n</code></pre>"},{"location":"dhcp/#linterface-reseau-loopback-toujours-requise","title":"L'interface r\u00e9seau \u00ab loopback \u00bb (toujours requise)","text":"<pre><code>auto lo\niface lo inet loopback\n</code></pre>"},{"location":"dhcp/#configurer-de-linterface-du-serveur-dhcp","title":"Configurer de l'interface du serveur DHCP","text":"/etc/network/interfaces<pre><code>auto enp0s3\n    iface enp0s3 inet static\n    address 192.169.0.3\n    netmask 192.169.0.0\n    broadcast 192.169.255.255\n</code></pre>"},{"location":"dns/","title":"DNS","text":""},{"location":"dns/#cahier-des-charges","title":"Cahier des charges","text":"<p>Nous devons proposer un NS qui traite notre nom de domaine. Nous avons aussi besoin qu'il prenne en charge un sous-domaine pour la page du rapport.</p>"},{"location":"dns/#solution-proposee","title":"Solution propos\u00e9e","text":"<p>Bind est un serveur opensource mondialement reconnu. Il est fiable et tr\u00e8s simple d'utilisation, nous allons donc l'utiliser pour cette maquette.</p>"},{"location":"dns/#implementation","title":"Impl\u00e9mentation","text":"<p>Installation:</p> <p><pre><code>sudo apt install bind9\n</code></pre>  Notre serveur DNS s'appelle projetlinux.com et \u00e0 pour IP 192.169.0.2.   Dans notre cas, nous n'avons pas de serveur \"esclave\".</p> Configuration de la zone DNS \u00e0 servir /etc/bind/named.conf.local<pre><code>zone \"projetlinux.com\" {\n    type master;\n    file \"/etc/bind/db.projetlinux.com\";\n    // allow-transfer {bbackup.projet.com;};  // List slaves here\n    // notify yes;  // Notify slaves on change\n};\n</code></pre> Configuration des informations du server /etc/bind/db.projetlinux.com<pre><code>$TTL 1h                                    ; Duree de vie des informations\n$ORIGIN .                                  ; On se base a la racine\nprojetlinux.com.        IN      SOA   ns.projetlinux.com. admin.projetlinux.com. (\n                                2022110701 ; Numero de serie (++ a chaque changement)\n                                12h        ; Slave refresh\n                                1h         ; Nouvel essai en cas de fail refresh\n                                2d         ; Expiration en cas de fail refresh\n                                1h         ; TTL minimum\n)\n                         IN     NS      ns.projetlinux.com. ; NS for this domain\n                         IN     NS      ns.projetlinux.com. ; External NS\n                         IN     A       192.169.0.2         ; IP du domaine\nns.projetlinux.com.      IN     A       192.169.0.2         ; IP du NS\nntp.projetlinux.com.     IN     A       192.169.0.2         ; IP du NTP\nrapport.projetlinux.com. IN     A       192.169.0.2         ; Sous-domaine du rapport\n</code></pre> <p>On reconfigure les DNS par d\u00e9faut du syst\u00e8me.</p> /etc/resolv.conf<pre><code># Generated by NetworkManager\nnameserver 192.169.0.2\nnameserver 8.8.8.8\n</code></pre>"},{"location":"dns/#verification-de-la-configuration","title":"V\u00e9rification de la configuration","text":"<p>Installation:</p> <pre><code>sudo apt install dnsutils\n</code></pre> <p>On v\u00e9rifie la configuration avec la commande <code>dig</code> (en local seulement, le domaine n'existant pas sur Internet):</p> <pre><code>dig @localhost projetlinux.com\n</code></pre>"},{"location":"dns/#sources","title":"Sources","text":"<ul> <li>Wiki debian-fr</li> </ul>"},{"location":"firewall/","title":"Parefeu","text":"<p>[Criquets]</p>"},{"location":"nat/","title":"NAT","text":""},{"location":"nat/#cahier-des-charges","title":"Cahier des charges","text":"<p>La mise en place du NAT permettra la communication entre internet et notre r\u00e9seau. Les diff\u00e9rents flux (entrants et sortants) devront circuler par le routeur.</p>"},{"location":"nat/#solution-proposee","title":"Solution propos\u00e9e","text":"<p>Par d\u00e9faut, les ditributions Debian ne sont pas configur\u00e9es dans le but d'effectuer la transition des flux entre diff\u00e9rents r\u00e9seaux. Il est cependant possible d'effectuer plusieurs manipulations permettant la communication entre deux r\u00e9seaux distincts.</p>"},{"location":"nat/#configuration-du-nat","title":"Configuration du NAT","text":"<p>Afin de pouvoir mettre en place le NAT, il faut savoir qu'un routeur est utilis\u00e9 pour faire transiter les donn\u00e9es d'un r\u00e9seau A \u00e0 un r\u00e9seau B. De ce fait, le routeur doit avoir acc\u00e8s \u00e0 ces derniers par le biais de ses interfaces. On dit alors que le routeur \u00e0 des pattes dans chaque r\u00e9seau. En instaurant le NAT, on effectue une translation de l'adresse IP locale en adresse IP routable sur internet.</p> <p>Le serveur jouant le r\u00f4le doit avoir deux cartes r\u00e9seaux. Dans notre cas, la premi\u00e8re carte sera configur\u00e9 en DHCP. En effet, elle r\u00e9cup\u00e9rera une adresse via le serveur DHCP venant du wifi d'un t\u00e9l\u00e9phone.</p> <p>Pour se faire on se rend dans le fichier de configuration des interfaces en saisissant la commande suivante :</p> <pre><code>sudo nano /etc/network/interfaces\n</code></pre> <p>Enfin on y ajoute la configuration suivante : </p> <p><pre><code># WAN\n\n  auto enp0s3\n  iface enp0s3 inet dhcp\n\n # LAN\n  auto enp0s8\n  iface enp0s8 inet static\n  addresse 192.169.0.1\n  netmask 255.255.0.0\n</code></pre> Ici on effectue un red\u00e9marrage du service networking afin de voir si les informations saisies dans le fichier de configuration sont correctes.</p> <pre><code>  systemctl restart networking\n</code></pre> <p>Puis on se rend dans le fichier de configuration du syst\u00e8me afin d'y apporter la modification suivante :</p> <p><pre><code>  nano /etc/sysctl.conf\n\n\nnet.ipv4.ip_forward=1 # Ligne \u00e0 d\u00e9commenter  \n</code></pre> Ici on effectue la commande suivante permettant de prendre en compte les modifications effectu\u00e9es.</p> <pre><code> sysctl -p /etc/sysctl.conf\n</code></pre> <p>Enfin on effectue la commande permettant de faire circuler les paquets vers l'ext\u00e9rieur :</p> <pre><code>  iptables -t nat -A POSTROUTING -o enp0s3 -j MASQUERADE\n</code></pre>"},{"location":"ntp/","title":"NTP","text":""},{"location":"ntp/#cahier-des-charges","title":"Cahier des charges","text":"<p>Nous devons d\u00e9ployer un serveur NTP local. Ce dernier doit distribuer l'heure obtenue aupr\u00e8s d'une source fiable et ne doit pas \u00eatre modifiable par les clients.</p>"},{"location":"ntp/#solution-proposee","title":"Solution propos\u00e9e","text":"<p>Le serveur NTP r\u00e9pond \u00e0 ce besoin. Nous allons l'impl\u00e9menter sur la machine responsable du DHCP.</p>"},{"location":"ntp/#implementation","title":"Impl\u00e9mentation","text":"<p>Installation:</p> <pre><code>apt install ntp\n</code></pre> ntp.conf <p>Modifications effectu\u00e9es par rapport \u00e0 la configuration par d\u00e9faut:</p> <ul> <li>Ajout du serveur ntp.uvsq.fr</li> <li>Broadcast configur\u00e9e sur 192.169.255.255</li> <li>D\u00e9sactivation des pools (on fait confiance au NTP de notre fac :smile:)</li> </ul> /etc/ntp.conf<pre><code># /etc/ntp.conf, configuration for ntpd; see ntp.conf(5) for help\n\ndriftfile /var/lib/ntp/ntp.drift\n\n# Leap seconds definition provided by tzdata\nleapfile /usr/share/zoneinfo/leap-seconds.list\n\n# Enable this if you want statistics to be logged.\n#statsdir /var/log/ntpstats/\n\nstatistics loopstats peerstats clockstats\nfilegen loopstats file loopstats type day enable\nfilegen peerstats file peerstats type day enable\nfilegen clockstats file clockstats type day enable\n\n\n# You do need to talk to an NTP server or two (or three).\nserver ntp.uvsq.fr\n\n# pool.ntp.org maps to about 1000 low-stratum NTP servers.  Your server will\n# pick a different set every time it starts up.  Please consider joining the\n# pool: &lt;http://www.pool.ntp.org/join.html&gt;\n#pool 0.debian.pool.ntp.org iburst\n#pool 1.debian.pool.ntp.org iburst\n#pool 2.debian.pool.ntp.org iburst\n#pool 3.debian.pool.ntp.org iburst\n\n\n# Access control configuration; see /usr/share/doc/ntp-doc/html/accopt.html for\n# details.  The web page &lt;http://support.ntp.org/bin/view/Support/AccessRestrictions&gt;\n# might also be helpful.\n#\n# Note that \"restrict\" applies to both servers and clients, so a configuration\n# that might be intended to block requests from certain clients could also end\n# up blocking replies from your own upstream servers.\n\n# By default, exchange time with everybody, but don't allow configuration.\nrestrict -4 default kod notrap nomodify nopeer noquery limited\nrestrict -6 default kod notrap nomodify nopeer noquery limited\n\n# Local users may interrogate the ntp server more closely.\nrestrict 127.0.0.1\nrestrict ::1\n\n# Needed for adding pool entries\n#restrict source notrap nomodify noquery\n\n# Clients from this (example!) subnet have unlimited access, but only if\n# cryptographically authenticated.\n#restrict 192.168.123.0 mask 255.255.255.0 notrust\n\n\n# If you want to provide time to your local subnet, change the next line.\n# (Again, the address is an example only.)\nbroadcast 192.169.255.255\n\n# If you want to listen to time broadcasts on your local subnet, de-comment the\n# next lines.  Please do this only if you trust everybody on the network!\n#disable auth\n#broadcastclient\n</code></pre> <p>Red\u00e9marrage du service pour prendre les modifications en compte:</p> <pre><code>systemctl reload ntp\n</code></pre>"},{"location":"ntp/#sources","title":"Sources","text":"<ul> <li>Wiki ubuntu-fr</li> <li>RENATER</li> </ul>"},{"location":"proxy/","title":"Proxy Squid","text":""},{"location":"proxy/#cahier-des-charges","title":"Cahier des charges","text":"<p>Nous devons r\u00e9duir l'utilisation de la bande passante on doit interdire l'acc\u00e8s \u00e0 certains sites.</p>"},{"location":"proxy/#solution-proposee","title":"Solution propos\u00e9e","text":"<p>Installation du serveur proxy</p> <p><code>sudo apt-get install squid</code></p>"},{"location":"proxy/#configurer-le-serveur-proxy-squid","title":"Configurer le serveur proxy Squid:","text":"<p>Le fichier de configuration de Squid se trouve \u00e0 /etc/squid/squid.conf  ===&gt; <code>sudo vim /etc/squid/squid.conf</code></p> <p>Naviguez pour trouver l'option http_port. En r\u00e8gle g\u00e9n\u00e9rale, il est configur\u00e9 pour \u00e9couter sur le port 3128. Ce port transporte g\u00e9n\u00e9ralement le trafic TCP. Acc\u00e9dez \u00e0 l'option http_access deny all. Ceci est actuellement configur\u00e9 pour bloquer tout le trafic HTTP. Cela signifie qu'aucun trafic Web n'est autoris\u00e9.</p>"},{"location":"proxy/#dans-le-fichier-de-conf-etcsquidsquidconf","title":"dans le fichier de conf /etc/squid/squid.conf","text":"<ul> <li>remplacer deny par allow</li> </ul> <p>ligne 1416, <code>http_access allow all</code></p>"},{"location":"proxy/#ajouter-squid-acl-et-bloquer-les-sites-web-sur-squid-proxy","title":"Ajouter squid ACL et Bloquer les sites Web sur Squid Proxy\u00a0:","text":"squid_config <ul> <li>A partir \"include /etc/squid/conf.d/\" (ligne 1402)</li> <li>Ajouter dans le fichier de conf</li> </ul> /etc/squid/squid.conf<pre><code>acl localnet src 10.0.2.15 (IP du serveur)\nacl liste_url dstdomain \"/etc/squid/liste-sites.txt\"\nhttp_access deny liste_url\nhttp_access allow localnet\n</code></pre>"},{"location":"proxy/#creation-de-la-liste-des-sites-blackliste","title":"Cr\u00e9ation de la liste des sites Blacklist\u00e9 :","text":"sites_blacklist <ul> <li>dans le r\u00e9pertoire /etc/squid/</li> <li>cr\u00e9er un fichier texte</li> </ul> /etc/squid/liste-sites.txt<pre><code>.facebook.com\n.youtube.com\n</code></pre>"},{"location":"proxy/#redemarrer-le-service","title":"Red\u00e9marrer le service:","text":"<p><code>sudo systemctl restart squid</code></p>"},{"location":"proxy/#configurer-le-proxy-http-pour-fonctionner-avec-le-navigateur-mozilla-firefox","title":"Configurer le proxy HTTP pour fonctionner avec le navigateur Mozilla Firefox:","text":"<ul> <li>Open Firefox Mozilla</li> <li>en haut &gt; Settings</li> <li>cliquer sur Manual proxy configuration</li> <li>HTTP proxy ( Ton IP) / Port: 3128</li> <li>cliquer sur OK</li> </ul>"},{"location":"script/","title":"Script","text":""},{"location":"script/#objectif","title":"Objectif","text":"<p>L'objectif de ce script est de faciliter le monitoring des ressources syst\u00e8me. Il fonctionne en deux parties qui seront d\u00e9taill\u00e9es ci-apr\u00e8s:</p> <ul> <li>Log des ressources dans un fichier<ul> <li>Taux de fonction du processeur (quand il n'est pas idle)</li> <li>Taux d'utilisation de la m\u00e9moire</li> <li>Proportion du volume du disque utilis\u00e9e</li> </ul> </li> <li>Affichage web</li> </ul> <p>Ces deux parties sont ind\u00e9pendantes, et seule la premi\u00e8re est \u00e9crite en BASH.</p>"},{"location":"script/#partie-bash","title":"Partie BASH","text":""},{"location":"script/#commandes","title":"Commandes","text":""},{"location":"script/#date","title":"Date","text":"<p>Afin de loguer les diff\u00e9rentes informations, il est important d'avoir la date des mesures.</p> <p>Puisqu'on aura besoin de comparer les dates pour l'affichage des graphiques, on choisit de les stocker sous forme de secondes \u00e9coul\u00e9es depuis EPOCH.</p> <p>Ainsi, la commande pour obtenir la date sous ce format est:</p> <pre><code>date +\"%s\"\n</code></pre>"},{"location":"script/#processeur","title":"Processeur","text":"<p>Nous voulons obtenir le taux d'utilisation du processeur, soit la proportion du temps o\u00f9 il n'est pas en train d'attendre.</p> <ul> <li>L'occupation du processeur peut \u00eatre obtenue avec <code>mpstat</code>.</li> <li>La mesure qui nous int\u00e9resse se situe en 12<sup>e</sup> position, nous la r\u00e9cup\u00e9rons avec <code>awk</code></li> <li>Pour obtenir la partie enti\u00e8re, on utilise <code>cut</code> pour prendre les valeurs avant la virgule.</li> </ul> <p>La ligne de commande qui en r\u00e9sulte est:</p> <pre><code>mpstat | awk '$12 ~ /[0-9.]+/ { print 100 - $12 }' | cut -d \",\" -f 1\n</code></pre>"},{"location":"script/#memoire","title":"M\u00e9moire","text":"<p>Utilisant <code>free</code>, on a d\u00fb faire un calcul pour obtenir le taux de m\u00e9moire utilis\u00e9e en utilisant:</p> <ul> <li>La quantit\u00e9 totale de m\u00e9moire     <pre><code>free | awk 'NR==2{ print $2}'\n</code></pre></li> <li>La quantit\u00e9 de m\u00e9moire utilis\u00e9e     <pre><code>free | awk 'NR==2{ print $3}'\n</code></pre></li> <li>Le calcul utilis\u00e9e*100/totale     <pre><code>(memoryUsed*100/memoryTotal)\n</code></pre></li> </ul>"},{"location":"script/#disque","title":"Disque","text":"<p>L'espace utilis\u00e9 peut \u00eatre trouv\u00e9 en 5<sup>e</sup> position dans le r\u00e9sultat de la commande <code>df -t ext4</code>:</p> <pre><code>df -t ext4 | awk 'NR==2{ print $5}' | grep -Eo '[0-9]{1,3}'\n</code></pre>"},{"location":"script/#log","title":"Log","text":"<p>On utilise les commandes pr\u00e9c\u00e9demment d\u00e9finies pour g\u00e9n\u00e9rer un fichier CSV de 60 lignes:</p> script.sh<pre><code>#!/bin/bash\n\n# Fichier contenant les releves\nfile=\"/var/www/html/projetlinux.com/script/fichier\"\n\n### Recueil et conversion en % des informations\n# Date au format ssss\ndate=$(date +\"%s\")\n# Processeur: 100 - taux de repos\nprocessor=$(mpstat | awk '$12 ~ /[0-9.]+/ { print 100 - $12 }' | cut -d \",\" -f 1)\n# Memoire disponible\nmemoryTotal=$(free | awk 'NR==2{ print $2}')\n# Memoire utilisee\nmemoryUsed=$(free | awk 'NR==2{ print $3}')\n# Memoire en %\nmemory=$((memoryUsed*100/memoryTotal))\n# Disque: volume utilise\ndisk=$(df -t ext4 | awk 'NR==2{ print $5}' | grep -Eo '[0-9]{1,3}')\n\n### Ecriture du fichier\n# Ligne de log\necho \"${date};${processor};${memory};${disk};\" &gt;&gt; $file\n# Troncature du fichier\necho \"$(tail -n 60 $file)\" &gt; $file\n</code></pre>"},{"location":"script/#crontab","title":"Crontab","text":"<p>On veut faire tourner le script automatiquement chaque minute de fa\u00e7on \u00e0 avoir 1h de logs. Pour ce faire, nous ajoutons le script dans le crontab:</p> /etc/crontab/<pre><code># /etc/crontab: system-wide crontab\n# Unlike any other crontab you don't have to run the `crontab'\n# command to install the new version when you edit this file\n# and files in /etc/cron.d. These files also have username fields,\n# that none of the other crontabs do.\n\nSHELL=/bin/sh\nPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\n\n# Example of job definition:\n# .---------------- minute (0 - 59)\n# |  .------------- hour (0 - 23)\n# |  |  .---------- day of month (1 - 31)\n# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n# |  |  |  |  |\n# *  *  *  *  * user-name command to be executed\n17 *    * * *   root    cd / &amp;&amp; run-parts --report /etc/cron.hourly\n25 6    * * *   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.daily )\n47 6    * * 7   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly )\n52 6    1 * *   root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly )\n*    *  * * *   root    /root/script.sh\n</code></pre> <p>La derni\u00e8re ligne du fichier correspond au script. Les <code>*</code> signifient que le script tourne a chaque minute, de chaque heure de chaque jour.</p>"},{"location":"script/#partie-web","title":"Partie web","text":""},{"location":"script/#script","title":"Script","text":"<p>La partie web consiste en un script en Python qui est lanc\u00e9 par Apache.</p> <p>Ce script lit le fichier CSV pr\u00e9c\u00e9demment g\u00e9n\u00e9r\u00e9, place ses valeurs dans diff\u00e9rents tableaux et les place dans des endroits sp\u00e9cifiques d'un template HTML. Il retourne ensuite l'HTML qui est interpr\u00e9t\u00e9 par le navigateur web du client.</p> <p>Le script est construit de la fa\u00e7on qui suit:</p> <ul> <li>Le fichier CSV est lu et plac\u00e9 dans un tableau.</li> <li>Les valeurs de chaque capteur sont recopi\u00e9es dans un tableau associ\u00e9 (processeur, m\u00e9moire et disque) en sautant une case quand la diff\u00e9rence de temps entre les mesures est sup\u00e9rieure \u00e0 une minute</li> <li>Les graphiques sont inject\u00e9s dans le template HTML gr\u00e2ce \u00e0 la fonction <code>Draw_Graph</code>.</li> </ul> <p>Voici le script en entier. Il a \u00e9t\u00e9 r\u00e9alis\u00e9 enti\u00e8rement \u00e0 la main, sans biblioth\u00e8ques.</p> <p>Attention aux yeux</p> <p>Nous avons manqu\u00e9 de temps pour le d\u00e9veloppement. Le script a \u00e9t\u00e9 \u00e9crit dans la pr\u00e9cipitation, et en partie copi\u00e9 sur le premier script de Tim (voir sources).</p> <p>Nous vous prions de ne pas lire ce qui suit sans protection oculaire.</p> /var/www/html/projetlinux.com/script/index.py<pre><code>#!/usr/bin/python\n\nimport time\n\ndef Draw_Graph(values, type):\n    max_height = 100\n    color = [\"black\", \"black\"]\n    if type == 1:\n        color = [\"lightblue\", \"blue\"]\n    if type == 2:\n        color = [\"pink\", \"purple\"]\n    if type == 3:\n        color = [\"lightgreen\", \"green\"]\n    for x in range(len(values)):\n        value = values[x]\n        if value == no_data:\n            print('''&lt;div class=\"no_data\"&gt;&lt;/div&gt;''')\n        if value == 0:\n            print('''&lt;div class=\"bar\" style=\"height: 0px; margin-top: ''' +\n                  str(max_height) + '''px;\"&gt;&lt;/div&gt;''')\n        if value &gt; 0:\n            height = (value/100) * max_height\n            margin = max_height - height\n            print('''&lt;div class=\"bar\" style=\"height:''' + str(height) + '''px; margin-top: ''' +\n                  str(margin) + '''px; background: ''' + str(color[0]) + '''; border-color: ''' + str(color[1]) + '''\"&gt;&lt;/div&gt;''')\n\n# Definitions\n# No_data value\nno_data = -1\n# Arrays of values that will be displayed\nprocessor = [no_data]*60\nmemory = [no_data]*60\ndisk = [no_data]*60\n# Index of the measure inside the displayed arrays\nindex = 0\n# Table that will have all the measures and timestamps\n# Format timetamp;processor;memory;disk\n# Timestamp is in seconds since Epoch, the rest in used %\nmeasures = list()\n# Total quantity of measures taken\nmeasures_quantity = 0\n\n# Copying measures to table\nwith open(\"fichier\", 'r') as file:\n    for line in file:\n        content_txt = line.split(';')\n        content_int = [int(content_txt[0]), int(content_txt[1]),\n                       int(content_txt[2]), int(content_txt[3])]\n        measures.append(content_int)\n        measures_quantity += 1\n\n# \"Deleting\" measures that are more than an hour old\ny = 0\nwhile measures[y][0]&lt;int(time.time())-60*60 and y &lt; 58:\n    y += 1\n# Assigning values to the display arrays\nfor x in range(y, measures_quantity-1):\n    # Adding \"holes\" if measures where skipped\n    if x &gt; 0:\n        y = 0\n        while measures[x][0] &gt; measures[x-1][0] + 65 + 60*y:\n            y += 1\n            index += 1\n    if index &lt; 60:\n        processor[index] = measures[x][1]\n        memory[index] = measures[x][2]\n        disk[index] = measures[x][3]\n        index += 1\n    else:\n        break\n\nprint(\"Content-type: text/html\\n\\n\")\nprint('''\n&lt;!DOCTYPE html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;\n        Performances\n    &lt;/title&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=\"winwow\"&gt;\n        &lt;div class=\"window_header\"&gt;\n            &lt;button class=\"custom_button\" onClick=\"window.location.reload(true)\"&gt;Reload&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"window_content\"&gt;\n            &lt;div class=\"metric\"&gt;\n                Processor: ''' + str(processor[index-1]) + '''%\n                &lt;div class=\"graph\"&gt;\n                ''')\nDraw_Graph(processor, 1)\nprint('''&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"metric\"&gt;\n                Memory: ''' + str(memory[index-1]) + '''%\n                &lt;div class=\"graph\"&gt;\n                ''')\nDraw_Graph(memory, 2)\nprint('''&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"metric\"&gt;\n                Disk: ''' + str(disk[index-1]) + '''%\n                &lt;div class=\"graph\"&gt;\n                ''')\nDraw_Graph(disk, 3)\nprint('''&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n''')\n</code></pre>"},{"location":"script/#configuration-du-systeme","title":"Configuration du syst\u00e8me","text":"<p>T\u00e9l\u00e9charger Python 3:</p> <pre><code>apt install python3\n</code></pre> <p>Ajouter Python dans PATH pour la session qui lance le script:</p> A la suite de .profile<pre><code>export PATH=\"$PATH:/usr/bin/python:/usr/bin/python3\"\n</code></pre>"},{"location":"script/#configuration-dapache","title":"Configuration d'Apache","text":"<p>Pour qu'Apache ex\u00e9cute le script, il faut:</p> <ul> <li>Autoriser les scripts</li> <li>Ajouter un handler Python</li> <li>Charger le module CGI</li> </ul> <p>Chercher et modifier la partie correspondante dans le fichier de configuration d'Apache</p> /etc/apache2/apache2.conf<pre><code>&lt;Directory /var/www/&gt;\n        Options Indexes FollowSymLinks ExecCGI\n        AddHandler cgi-script .cgi .py\n        LoadModule cgi_module /usr/lib/apache2/modules/mod_cgi.so\n        AllowOverride None\n        Require all granted\n&lt;/Directory&gt;\n</code></pre> <pre><code>systemstl reload apache2\n</code></pre>"},{"location":"script/#sources","title":"Sources","text":"<ul> <li>La structure de la page web et la fonction de g\u00e9n\u00e9ration des graphiques ont \u00e9t\u00e9 inspir\u00e9s de sensors.frols.com.</li> <li>fedingo.com</li> <li>apache.org</li> </ul>"},{"location":"ssh/","title":"SSH","text":""},{"location":"ssh/#cahier-des-charges","title":"Cahier des charges","text":"<p>Nous devons rendre une machine s\u00e9par\u00e9e accessible en SSH. Cette connexion doit r\u00e9pondre aux crit\u00e8res suivants:</p> <ul> <li>\u00catre facile d'utilisation</li> <li>Fonctionner de fa\u00e7on fiable</li> <li>Avoir un niveau de s\u00e9curit\u00e9 acceptable pour une entreprise</li> <li>Disposer de ressources suffisantes pour r\u00e9pondre aux besoins de l'entreprise.</li> </ul>"},{"location":"ssh/#solution-proposee","title":"Solution propos\u00e9e","text":"<p>Nous estimons que notre solution devra am\u00e9nager une dizaine d'h\u00f4tes au maximum et supporter quelques connexions simultan\u00e9es sans transfert de donn\u00e9es important (lecture / \u00e9criture / t\u00e9l\u00e9chargement de fichiers texte).</p>"},{"location":"ssh/#choix-materiels-et-logiciels","title":"Choix mat\u00e9riels et logiciels","text":"<p>Un Arduino ou une Raspberry Pi ont le meilleur rapport qualit\u00e9 / prix pour le niveau de charge \u00e0 assumer. De plus, ce sont des plateformes tr\u00e8s utilis\u00e9es et open-source, disposant d'une grande communaut\u00e9 qui rend leur maintenance plus facile et fiable.</p> <p>Du c\u00f4t\u00e9 logiciel, l'utilitaire OpenSSH r\u00e9pond aux besoins \u00e9nonc\u00e9s plus haut et dispose des m\u00eames avantages d'open-source et de communaut\u00e9 active.</p> <p>Nous utiliserons donc une Raspberry Pi avec l'utilitaire openSSH pour ce projet.</p>"},{"location":"ssh/#detail-des-solutions-implementees","title":"D\u00e9tail des solutions impl\u00e9ment\u00e9es","text":"<ul> <li>Installation d'un serveur SSH</li> <li>Authentification par cl\u00e9s<ul> <li>Proc\u00e9dure pour \u00e9change de cl\u00e9s</li> </ul> </li> </ul>"},{"location":"ssh/#implementation","title":"Impl\u00e9mentation","text":""},{"location":"ssh/#configuration-ssh","title":"Configuration SSH","text":"<p>Installation du serveur SSH:</p> <pre><code>apt install openssh-server\n</code></pre> <p>Configuration:</p> sshd_config <p>Modifications effectu\u00e9es par rapport \u00e0 la version d'origine:</p> <ul> <li>Passage au port 2022 (pour r\u00e9duire les attaques bruteforce par script)</li> <li>Interdiction de l'IPv6 (parce qu'on en aura pas besoin pour ce projet)</li> <li>Force un \u00e9change de cl\u00e9s au bout de 5 minutes (pour plus de s\u00e9curit\u00e9)</li> <li>R\u00e9duction du temps d'authentification \u00e0 1 minute (pour diminuer le risque de DOS)</li> <li>D\u00e9sactivation du login root (pour plus de s\u00e9curit\u00e9)</li> <li>Diminution de la quantit\u00e9 de tentatives de login \u00e0 2 par session (pour que chaque 2e \u00e9chec soit logu\u00e9 - ceci sera utilis\u00e9 par f2b)</li> <li>R\u00e9duction de la quantit\u00e9 de sessions \u00e0 2 par h\u00f4te (pour limiter les tentatives de bruteforce). On autorise 2 sessions pour pouvoir garder une session de \"s\u00e9curit\u00e9\" afin d'\u00e9viter de perdre le contr\u00f4le de la machine en cas d'erreur de configuration (SSH, firewall etc)</li> <li>interdiction de login par mot de passe (pour plus de s\u00e9curit\u00e9)</li> <li>D\u00e9sactivation de l'authentification PAM (ne sera pas utilis\u00e9 pour ce projet)</li> <li>D\u00e9sactivation du forwarding SSH (pour plus de s\u00e9curit\u00e9)</li> <li>D\u00e9sactivation du forwarding TCP (pour plus de s\u00e9curit\u00e9)</li> <li>Ajout des banni\u00e8res (pour plus de SWAG)</li> </ul> /etc/ssh/sshd_config<pre><code>#   $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $\n\n# This is the sshd server system-wide configuration file.  See\n# sshd_config(5) for more information.\n\n# This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin\n\n# The strategy used for options in the default sshd_config shipped with\n# OpenSSH is to specify options with their default value where\n# possible, but leave them commented.  Uncommented options override the\n# default value.\n\n#Include /etc/ssh/sshd_config.d/*.conf\n\nPort 2022\nAddressFamily inet\n#ListenAddress 0.0.0.0\n#ListenAddress ::\n\n#HostKey /etc/ssh/ssh_host_rsa_key\n#HostKey /etc/ssh/ssh_host_ecdsa_key\nHostKey /etc/ssh/ssh_host_ed25519_key\n\n# Ciphers and keying\nRekeyLimit default 5m\n\n# Logging\n#SyslogFacility AUTH\n#LogLevel INFO\n\n# Authentication:\n\nLoginGraceTime 1m\nPermitRootLogin no\n#StrictModes yes\nMaxAuthTries 2\nMaxSessions 2\n\n#PubkeyAuthentication yes\n\n# Expect .ssh/authorized_keys2 to be disregarded by default in future.\n#AuthorizedKeysFile .ssh/authorized_keys .ssh/authorized_keys2\n\n#AuthorizedPrincipalsFile none\n\n#AuthorizedKeysCommand none\n#AuthorizedKeysCommandUser nobody\n\n# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts\n#HostbasedAuthentication no\n# Change to yes if you don't trust ~/.ssh/known_hosts for\n# HostbasedAuthentication\n#IgnoreUserKnownHosts no\n# Don't read the user's ~/.rhosts and ~/.shosts files\n#IgnoreRhosts yes\n\n# To disable tunneled clear text passwords, change to no here!\nPasswordAuthentication no\n#PermitEmptyPasswords no\n\n# Change to yes to enable challenge-response passwords (beware issues with\n# some PAM modules and threads)\nChallengeResponseAuthentication no\n\n# Kerberos options\n#KerberosAuthentication no\n#KerberosOrLocalPasswd yes\n#KerberosTicketCleanup yes\n#KerberosGetAFSToken no\n\n# GSSAPI options\n#GSSAPIAuthentication no\n#GSSAPICleanupCredentials yes\n#GSSAPIStrictAcceptorCheck yes\n#GSSAPIKeyExchange no\n\n# Set this to 'yes' to enable PAM authentication, account processing,\n# and session processing. If this is enabled, PAM authentication will\n# be allowed through the ChallengeResponseAuthentication and\n# PasswordAuthentication.  Depending on your PAM configuration,\n# PAM authentication via ChallengeResponseAuthentication may bypass\n# the setting of \"PermitRootLogin without-password\".\n# If you just want the PAM account and session checks to run without\n# PAM authentication, then enable this but set PasswordAuthentication\n# and ChallengeResponseAuthentication to 'no'.\nUsePAM no\n\nAllowAgentForwarding no\nAllowTcpForwarding no\n#GatewayPorts no\nX11Forwarding yes\n#X11DisplayOffset 10\n#X11UseLocalhost yes\n#PermitTTY yes\nPrintMotd yes\n#PrintLastLog yes\n#TCPKeepAlive yes\n#PermitUserEnvironment no\n#Compression delayed\n#ClientAliveInterval 0\n#ClientAliveCountMax 3\n#UseDNS no\n#PidFile /var/run/sshd.pid\n#MaxStartups 10:30:100\n#PermitTunnel no\n#ChrootDirectory none\n#VersionAddendum none\n\n# no default banner path\nBanner .ssh/banner\n\n# Allow client to pass locale environment variables\nAcceptEnv LANG LC_*\n\n# override default of no subsystems\nSubsystem   sftp    /usr/lib/openssh/sftp-server\n\n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#   X11Forwarding no\n#   AllowTcpForwarding no\n#   PermitTTY no\n#   ForceCommand cvs server\n</code></pre>"},{"location":"ssh/#configuration-des-la-banieres","title":"Configuration des la bani\u00e8res","text":"MOTD /etc/motd<pre><code>#     #    #     #####  ####### ####### ######     ### ######   #####\n##   ##   # #   #     #    #    #       #     #     #  #     # #     #\n# # # #  #   #  #          #    #       #     #     #  #     # #\n#  #  # #     #  #####     #    #####   ######      #  ######   #####\n#     # #######       #    #    #       #   #       #  #   #         #\n#     # #     # #     #    #    #       #    #      #  #    #  #     #\n#     # #     #  #####     #    ####### #     #    ### #     #  #####\n\n        #####                                         #####\n        #     # #####   ####  #    # #####  ######    #     #\n        #       #    # #    # #    # #    # #               #\n        #  #### #    # #    # #    # #    # #####      #####\n        #     # #####  #    # #    # #####  #         #\n        #     # #   #  #    # #    # #      #         #\n         #####  #    #  ####   ####  #      ######    #######\n</code></pre> SSH /etc/ssh/banner<pre><code>Cette machine est responsable des services SSH, DNS, NTP et web.\n</code></pre>"},{"location":"ssh/#sources","title":"Sources","text":"<ul> <li>OpenSSH</li> <li>patorjk.com</li> </ul>"},{"location":"web/","title":"Web","text":""},{"location":"web/#cahier-des-charges","title":"Cahier des charges","text":"<p>Nous devons impl\u00e9menter un service web sur une machine. Ce dernier doit r\u00e9pondre aux crit\u00e8res suivants:</p> <ul> <li>\u00catre structur\u00e9 de fa\u00e7on \u00e0 \u00eatre navigable facilement</li> <li>Avoir un sous-domaine prot\u00e9g\u00e9 pour pouvoir accueillir des informations sensibles</li> </ul> <p>Sous-domaine prot\u00e9g\u00e9</p> <p>La description des actions \u00e0 mener est correcte mais la protection n'a pas \u00e9t\u00e9 impl\u00e9ment\u00e9e pour ne pas entraver la facilit\u00e9 d'utilisation.</p>"},{"location":"web/#solution-proposee","title":"Solution propos\u00e9e","text":""},{"location":"web/#choix-materiels-et-logiciels","title":"Choix mat\u00e9riels et logiciels","text":"<p>Notre solution devra r\u00e9pondre \u00e0 une dizaine de connexions simultan\u00e9es. Nous allons donc installer un serveur web sur le RPi d\u00e9j\u00e0 utilis\u00e9.</p> <p>Apache est un outil libre activement support\u00e9 qui r\u00e9pond \u00e0 nos attentes et est facile d'utilisation, nous allons donc le privil\u00e9gier.</p>"},{"location":"web/#detail-des-solutions-implementees","title":"D\u00e9tail des solutions impl\u00e9ment\u00e9es","text":"<ul> <li>Installer Apache</li> <li>Faire la configuration qui comporte un sous-r\u00e9seau</li> <li>Prot\u00e9ger ce sous-r\u00e9seau par un mot de passe</li> <li>Cr\u00e9er du contenu web \u00e0 afficher</li> </ul>"},{"location":"web/#implementation","title":"Impl\u00e9mentation","text":""},{"location":"web/#configuration","title":"Configuration","text":"<p>Installation du serveur Apache:</p> <pre><code>apt install apache2\n</code></pre> Modification de la configuration /etc/apache2/sites-available/000-default.conf<pre><code>&lt;VirtualHost *:80&gt;\n    # The ServerName directive sets the request scheme, hostname and port that\n    # the server uses to identify itself. This is used when creating\n    # redirection URLs. In the context of virtual hosts, the ServerName\n    # specifies what hostname must appear in the request's Host: header to\n    # match this virtual host. For the default virtual host (this file) this\n    # value is not decisive as it is used as a last resort host regardless.\n    # However, you must set it for any further virtual host explicitly.\n    #ServerName www.example.com\n\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/html/projetlinux.com/\n\n    # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\n    # error, crit, alert, emerg.\n    # It is also possible to configure the loglevel for particular\n    # modules, e.g.\n    #LogLevel info ssl:warn\n\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n    # For most configuration files from conf-available/, which are\n    # enabled or disabled at a global level, it is possible to\n    # include a line for only one particular virtual host. For example the\n    # following line enables the CGI configuration for this host only\n    # after it has been globally disabled with \"a2disconf\".\n    #Include conf-available/serve-cgi-bin.conf\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n</code></pre> Configuration du sous-domaine <p>Le rapport contenant des donn\u00e9es sensibles vis-\u00e0-vis de l'infrastructure du projet, nous l'isolons sur un sous-domaine prot\u00e9g\u00e9.</p> /etc/apache2/sites-available/rapport.projetlinux.com.conf<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName rapport.projetlinux.com\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/html/rapport.projetlinux.com/\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n</code></pre>"},{"location":"web/#protection-du-sous-domaine","title":"Protection du sous-domaine","text":""},{"location":"web/#verification-des-modules","title":"V\u00e9rification des modules","text":"<p>Apache est un utilitaire qui s'appuie sur des modules pour beaucoup de t\u00e2ches. Pour l'authentification par mot de passe, nous avons besoin des modules <code>authn_core_module</code> et <code>authz_core_module</code>.</p> <p>V\u00e9rification des modules charg\u00e9s:</p> <pre><code>apache2ctl -M\n</code></pre> <p>Si les modules requis ne sont pas charg\u00e9s, on utilise:</p> <pre><code>a2enmod [module]\n</code></pre>"},{"location":"web/#creation-du-mot-de-passe","title":"Cr\u00e9ation du mot de passe","text":"<pre><code>mkdir /etc/apache2/passwd\nhtpasswd -c /etc/apache2/passwd/rapport standard # (1)\n</code></pre> <ol> <li>G\u00e9n\u00e9ration du mot de passe pour l'utilisateur \"standard\"</li> </ol>"},{"location":"web/#mise-a-jour-de-la-configuration","title":"Mise \u00e0 jour de la configuration","text":"Configuration du sous-domaine /etc/apache2/sites-available/rapport.projetlinux.com.conf<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName rapport.projetlinux.com\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/html/rapport.projetlinux.com/\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n    &lt;Directory \"/var/www/html/rapport.projetlinux.com\"&gt;\n            AuthType Basic\n            AuthName \"Cet espace est s\u00e9curis\u00e9\"\n            AuthUserFile \"/etc/apache2/passwd/rapport\"\n            Require user everyone\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n</code></pre> <p>Red\u00e9marrage pour que les modifications prennent lieu:</p> <pre><code>systemctl reload apache2\n</code></pre>"},{"location":"web/#contenu","title":"Contenu","text":"<p>Nous avons d\u00e9cid\u00e9 de peupler le domaine principal avec les modes d'emploi utiles pour utiliser notre maquette et le sous-domaine avec le rapport que vous lisez en ce moment m\u00eame.</p> <p>Nous avons g\u00e9n\u00e9r\u00e9 ce contenu \u00e0 l'aide de l'outil Material.</p> <p>Code source</p> <p>Vous pouvez voir le code source qui a servi \u00e0 g\u00e9n\u00e9rer ce document sur notre GitHub.</p>"},{"location":"web/#sources","title":"Sources","text":"<ul> <li>documentation.frolov.eu (ressource priv\u00e9e)</li> </ul>"}]}